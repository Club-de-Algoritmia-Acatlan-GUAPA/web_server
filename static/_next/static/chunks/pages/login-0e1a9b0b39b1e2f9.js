(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{3236:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return r(9694)}])},2422:function(e,t,r){"use strict";r.d(t,{M:function(){return u}});var n=r(5893),o=r(4869),a=r(5675),s=r.n(a),i=r(7294),l=r(2459);let c=e=>{let{children:t,onClick:r=()=>{},color:a,enable:s=!0}=e,l=(0,i.useRef)(null);return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("button",{ref:l,onMouseDown:e=>{l.current&&s&&(l.current.style.background="var(--".concat(a,"-primary-faded)"))},onMouseUp:e=>{l.current&&(l.current.style.background="var(--".concat(a,"-primary)"))},onMouseOut:e=>{l.current&&(l.current.style.background="var(--".concat(a,"-primary)"))},style:{background:"var(--".concat(a,"-primary)"),border:"1px solid var(--".concat(a,"-secondary)"),borderRadius:"var(--border-radius)",width:"126px",padding:"0 10px 0 10px",height:"29px",cursor:"pointer"},onClick:s?r:()=>{},children:(0,n.jsx)(o.Z,{color:"white",type:"h4",children:t})})})},u=e=>{let{onClick:t,loading:r}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(c,{enable:!r,onClick:r?()=>{}:t,color:"blue",children:r?(0,n.jsx)(l.Z,{}):(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"5px"},children:[(0,n.jsx)(s(),{width:18,height:18,alt:"submit logo",src:"/submit_plane.svg"}),"Submit"]})})})};t.Z=c},7226:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(5893);let o={borderRadius:"10px",padding:"10px",background:"rgba(255, 0, 0, 0.3)"},a=e=>{let{children:t,key:r}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{style:o,children:t},r)})},s=e=>{let{messages:t}=e,r=[];return"length"in t?r=[...t]:t.issues.forEach(e=>{r.push(e.message)}),(0,n.jsx)(n.Fragment,{children:r.length&&r.map(e=>(0,n.jsx)(a,{children:e},e))})};var i=s},3682:function(e,t,r){"use strict";var n=r(5893),o=r(5499),a=r.n(o),s=r(4869);let i=e=>{let{label:t,children:r,onSubmit:o}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("form",{className:a().form,onSubmit:o,children:[(0,n.jsxs)("label",{children:[" ",(0,n.jsxs)(s.Z,{type:"h2",color:"primary",children:[" ",t," "]})," "]}),(0,n.jsx)("hr",{}),r]})})};t.Z=i},536:function(e,t,r){"use strict";var n=r(5893),o=r(4869),a=r(7294),s=r(883),i=r.n(s);let l=e=>{let{label:t,placeholder:r,text:s,id:l,type:c="text",onValidation:u,onChange:d}=e,[h,f]=(0,a.useState)();return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:i().container,children:[(0,n.jsxs)("label",{className:i().label,htmlFor:l,children:[" ",(0,n.jsx)(o.Z,{type:"h3",color:"primary",children:t})]}),(0,n.jsx)("input",{className:i().input,placeholder:r,id:l,type:c,onChange:function(e){f(void 0),d&&d(e)},onSubmit:function(e){if(!u)return;let t=u(e.target.value);t.success?f(void 0):f(t.error)}}),s&&(0,n.jsxs)("label",{className:i().text,children:[" ",(0,n.jsx)(o.Z,{color:"primary",type:"text",sz:"sm",children:s})," "]})]})})};t.Z=l},2459:function(e,t,r){"use strict";var n=r(5893);let o=()=>(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{children:" Loading ...  "})});t.Z=o},6669:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(5893);let o={flex:1,display:"flex","flex-direction":"row",justifyContent:"center",alignItems:"center"};function a(e){return(0,n.jsx)("main",{style:o,children:e})}},9694:function(e,t,r){"use strict";r.r(t);var n,o,a=r(5893),s=r(7294),i=r(1604),l=r(8241),c=r(6669),u=r(3682),d=r(536),h=r(7226),f=r(2459),p=r(2422);let m=i.z.object({identifier:i.z.string({required_error:"Debe contener al menos una letra"}).min(3,{message:"El nombre debe tener al menos 3 caracteres"}),password:i.z.string().min(8,{message:"La contrase\xf1a debe tener al menos 3 caracteres"}).max(50)});function x(e,t){switch(t.type){case o.SET_PASSWORD:return{...e,password:t.password};case o.SET_USERNAME:return{...e,identifier:t.identifier}}}(n=o||(o={}))[n.SET_PASSWORD=0]="SET_PASSWORD",n[n.SET_USERNAME=1]="SET_USERNAME";let g=()=>{let[e,t]=(0,s.useReducer)(x,{identifier:"",password:""}),[r,n]=(0,s.useState)(!1),[i,c]=(0,s.useState)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(u.Z,{label:"Log in",onSubmit:function(t){t.preventDefault();let r=m.safeParse(e);if(r.success)c(void 0),n(!0),(async()=>{(await (0,l.Md)("/login",e)).ok?window.location.replace("/problems"):c(["Something went wrong"])})(),n(!1);else{let o=[];r.error.issues.forEach(e=>{o.push(e.message)}),c(r.error)}},children:[(0,a.jsx)(d.Z,{label:"User or Email",id:"identifier",onChange:function(e){t({type:o.SET_USERNAME,identifier:e.target.value})},text:"Type your email or username."}),(0,a.jsx)(d.Z,{type:"password",label:"Password",id:"password",onChange:function(e){t({type:o.SET_PASSWORD,password:e.target.value})}}),(0,a.jsxs)(p.Z,{enable:!r,color:"green",children:[" ",r?"Loading":"Log In"," "]}),i&&(0,a.jsx)(h.Z,{messages:i})]}),r&&(0,a.jsx)(f.Z,{})]})};g.getLayout=c.Z,t.default=g},8241:function(e,t,r){"use strict";async function n(e){try{let t=await fetch("".concat("http://localhost:3001","/submission-get?problem_id=").concat(e,"&from=0&to=0"),{headers:{credentials:"include",withCredentials:"true"}});if(console.log(t),t.redirected)return window.location.replace(t.url),{ok:null,err:"redirected"};if(200!==t.status){let r=await t.text();return console.log(r),{ok:r,err:null}}let n=await t.json();return console.log("infoooooooooooo",n),{ok:n,err:null}}catch(o){return{ok:null,err:o}}}async function o(e){try{let t=await fetch("".concat("http://localhost:3001","/problem-get?id=").concat(e),{cache:"force-cache"});if(console.log(t),t.redirected)return{ok:null,err:"redirected"};if(200!==t.status){let r=await t.text();console.log(r)}let n=await t.json();return console.log(n),{ok:n,err:null}}catch(o){return{ok:null,err:o}}}r.d(t,{C3:function(){return o},Md:function(){return i},Tq:function(){return n},XH:function(){return a},_i:function(){return s},sK:function(){return l}}),r(3299),r(1163);let a=e=>{let t=e=>fetch(e).then(e=>e.json());return console.log(Promise.all(e.map(t))),Promise.all(e.map(t))},s=e=>fetch(e).then(e=>e.json());async function i(e,t){var r=new URLSearchParams;Object.entries(t).forEach(e=>r.append(e[0],e[1]));try{return{ok:await (await fetch("http://localhost:3001"+"".concat(e),{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",credentials:"include",withCredentials:"true"},body:r})).text(),err:null}}catch(n){return{ok:null,err:n}}}async function l(e){var t=new URLSearchParams;Object.entries(e).forEach(e=>t.append(e[0],e[1])),console.log(t);try{let r=await fetch("http://localhost:3001/submit",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",credentials:"include",withCredentials:"true"},body:t});if(200!==r.status){let n=await r.text();return{ok:null,err:n}}return{ok:await r.json(),err:null}}catch(o){return{ok:null,err:o}}}},5499:function(e){e.exports={label:"Form_label__QVfSm",form:"Form_form__mh4_m"}},883:function(e){e.exports={input:"Input_input__2jWMJ",container:"Input_container__B9ERX",label:"Input_label__o6r7L",text:"Input_text__GBVsM"}}},function(e){e.O(0,[299,604,774,888,179],function(){return e(e.s=3236)}),_N_E=e.O()}]);