(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[573],{2042:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/contest/[contest_id]/concurso",function(){return n(8974)}])},1571:function(e,t,n){"use strict";n.d(t,{dI:function(){return m},Y:function(){return f}});var r,l,i=n(5893),c=n(9734),a=n(8241),s=n(7294),o=n(1163),d=n(4869);function u(e){let{selectedTab:t}=e,n=(0,o.useRouter)(),r=n.asPath.split("/").slice(-1)[0],c=f();return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{className:"flex gap-7 items-center",children:Object.keys(l).map(e=>{let t=l[e];return(0,i.jsx)(d.Z,{className:t===r?"selected":"",type:"h3",weight:"bold",clickable:!0,color:t===r?"blue":"black",href:"/contest/".concat(null==c?void 0:c.id,"/").concat(t),children:e},t)})})})}(r=l||(l={})).Problemas="problems",r.Scoreboard="scoreboard",r.Concurso="concurso",r.Submits="submits",r.Aclaraciones="acla";let h=(0,s.createContext)({id:"",name:"",startTime:void 0,endTime:void 0,bases:[]});function f(){return(0,s.useContext)(h)}function x(e){let{children:t}=e,n=(0,o.useRouter)(),{contest_id:r}=n.query,{data:l,error:s}=(0,c.ZP)("/api/contest/".concat(r),a._i);return s?(0,i.jsx)("div",{children:"Failed to load"}):l?(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(h.Provider,{value:l,children:t})}):(0,i.jsx)("div",{children:"Loading..."})}function m(e){return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{className:"flex flex-col gap-6 layout",children:(0,i.jsxs)(x,{children:[(0,i.jsx)(u,{}),e]})})})}},8974:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var r=n(5893),l=n(1163),i=n(4869),c=n(7294);function a(e){let{startTime:t,endTime:n}=e;(0,c.useRef)(null);let[l,a]=(0,c.useState)("0"),[s,o]=(0,c.useState)(!1);(0,c.useEffect)(()=>{d();let e=setInterval(d,1e3);return()=>clearInterval(e)},[t,n]);let d=()=>{let e=new Date;if(n){let r=new Date(n).getTime()-e.getTime();if(t){let l=(1-r/(new Date(n).getTime()-new Date(t).getTime()))*100;l<=100?a("".concat(l)):s||o(!0)}}};return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"flex flex-col w-full",children:s?(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"flex justify-center gap-2",children:[(0,r.jsx)(i.Z,{type:"h2",weight:"regular",children:" El concurso ha terminado"}),(0,r.jsx)(i.Z,{type:"h2",color:"blue",weight:"regular",clickable:!0,children:" ver scoreboard TODO"})]})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"h-5 w-full relative bg-[#D9D9D9] rounded-full"}),(0,r.jsx)("div",{style:{width:l+"%"},className:"relative z-3 h-5 top-[-1.25rem] bg-[#4AAE4B] rounded-full"})]})})})}function s(e){let{name:t,startTime:n,endTime:l}=e;function c(e){return e?e.toString():""}return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"flex flex-col w-full items-center",children:[(0,r.jsx)(i.Z,{type:"h1",weight:"regular",children:t}),(0,r.jsxs)("div",{className:"flex justify-between w-full",children:[(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsx)(i.Z,{type:"h2",weight:"light",children:"Inicio : "}),(0,r.jsx)(i.Z,{type:"h2",children:c(n)})]}),(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsx)(i.Z,{type:"h2",weight:"light",children:"Final : "}),(0,r.jsx)(i.Z,{type:"h2",children:c(l)})]})]}),(0,r.jsx)(a,{startTime:n,endTime:l}),(0,r.jsxs)("div",{className:"flex justify-between w-full",children:[(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsx)(i.Z,{type:"h2",weight:"light",children:"Tiempo transcurrido : "}),(0,r.jsxs)(i.Z,{type:"h2",children:[" ","TODO"]})]}),(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsx)(i.Z,{type:"h2",weight:"light",children:"Tiempo restante : "}),(0,r.jsx)(i.Z,{type:"h2",children:"TODO"})]})]})]})})}function o(e){let{title:t="Prueba",content:n=""}=e;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:" bg-[var(--primary-bg-color)] rounded-[var(--border-radius)] ",children:[(0,r.jsx)("div",{className:" text-center bg-[var(--secondary-bg-color)] rounded-t-[var(--border-radius)] ",children:(0,r.jsx)(i.Z,{type:"h2",weight:"black",children:t})}),(0,r.jsx)("div",{className:" p-[var(--primary-padding)] ",children:n})]},t)})}var d=n(1571);let u=()=>{var e,t;let n=(0,l.useRouter)(),{contest_id:i}=n.query,c=(0,d.Y)();return"unauthenticated"===status?(0,r.jsx)("div",{children:"logeate"}):"loading"===status?(0,r.jsx)("div",{children:"Loading"}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"flex flex-col bg-[#E7EBEF] p-[20px] rounded-[10px] gap-[5px]",children:(0,r.jsx)(s,{name:null!==(t=null==c?void 0:c.name)&&void 0!==t?t:"",startTime:null==c?void 0:c.startTime,endTime:null==c?void 0:c.endTime})}),null==c?void 0:null===(e=c.bases)||void 0===e?void 0:e.map(e=>{let{title:t,content:n}=e;return(0,r.jsx)(o,{title:t,content:n},t)})]})};u.getLayout=d.dI;var h=u},8241:function(e,t,n){"use strict";async function r(e){try{let t=await fetch("".concat("http://localhost:8000","/submission-get?problem_id=").concat(e,"&from=0&to=0"),{headers:{credentials:"include",withCredentials:"true"}});if(console.log(t),t.redirected)return window.location.replace(t.url),{ok:null,err:"redirected"};if(200!==t.status){let n=await t.text();return console.log(n),{ok:n,err:null}}let r=await t.json();return console.log("infoooooooooooo",r),{ok:r,err:null}}catch(l){return{ok:null,err:l}}}async function l(e){try{let t=await fetch("".concat("http://localhost:8000","/problem-get?id=").concat(e),{cache:"force-cache"});if(console.log(t),t.redirected)return window.location.replace(t.url),{ok:null,err:"redirected"};if(200!==t.status){let n=await t.text();console.log(n)}let r=await t.json();return console.log(r),{ok:r,err:null}}catch(l){return window.location.replace("/404"),{ok:null,err:l}}}n.d(t,{C3:function(){return l},Md:function(){return a},Tq:function(){return r},XH:function(){return i},_i:function(){return c},sK:function(){return s}}),n(3299),n(1163);let i=e=>{let t=e=>fetch(e).then(e=>e.json());return console.log(Promise.all(e.map(t))),Promise.all(e.map(t))},c=e=>fetch(e).then(e=>e.json());async function a(e,t){var n=new URLSearchParams;Object.entries(t).forEach(e=>n.append(e[0],e[1]));try{return{ok:await (await fetch("http://localhost:8000"+"".concat(e),{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",credentials:"include",withCredentials:"true"},body:n})).text(),err:null}}catch(r){return{ok:null,err:r}}}async function s(e){var t=new URLSearchParams;Object.entries(e).forEach(e=>t.append(e[0],e[1])),console.log(t);try{let n=await fetch("http://localhost:8000/submit",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",credentials:"include",withCredentials:"true"},body:t});if(200!==n.status){let r=await n.text();return{ok:null,err:r}}return{ok:await n.json(),err:null}}catch(l){return{ok:null,err:l}}}}},function(e){e.O(0,[299,734,774,888,179],function(){return e(e.s=2042)}),_N_E=e.O()}]);