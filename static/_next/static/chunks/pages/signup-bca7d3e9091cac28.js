(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[616],{7805:function(e,n,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/signup",function(){return a(375)}])},7123:function(e,n,a){"use strict";a.d(n,{Z:function(){return t}});var s=a(1844);let r={flex:1,display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"};function t(e){return(0,s.jsx)("main",{style:r,children:e})}},375:function(e,n,a){"use strict";a.r(n);var s,r,t=a(1844),o=a(2519),i=a(7123),u=a(5784),c=a(7589),l=a(4706),d=a(2989),m=a(1604),S=a(9556),E=a(7608);let f=m.z.object({name:m.z.string({required_error:"Name is required"}).min(3,{message:"El nombre debe tener al menos 3 caracteres"}),email:m.z.string().max(100,{message:"El correo debe tener menos de 100 caracteres"}).email(),password:m.z.string().min(8).max(50),passwordConfirmation:m.z.string().min(8).max(50)}).superRefine((e,n)=>{let{passwordConfirmation:a,password:s}=e;a!==s&&n.addIssue({code:"custom",message:"Las contrase\xf1as no coinciden"})});(s=r||(r={}))[s.SET_EMAIL=0]="SET_EMAIL",s[s.SET_PASSWORD=1]="SET_PASSWORD",s[s.SET_PASSWORD_CONFIRMATION=2]="SET_PASSWORD_CONFIRMATION",s[s.SET_USERNAME=3]="SET_USERNAME";let p=()=>{let[e,n]=(0,u.useReducer)(function(e,n){switch(n.type){case r.SET_EMAIL:return{...e,email:n.email};case r.SET_PASSWORD:return{...e,password:n.password};case r.SET_PASSWORD_CONFIRMATION:return{...e,passwordConfirmation:n.passwordConfirmation};case r.SET_USERNAME:return{...e,name:n.name}}},{name:"",email:"",password:"",passwordConfirmation:""}),[a,s]=(0,u.useState)(),[i,m]=(0,u.useState)(!1);return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(o.Z,{onSubmit:function(n){n.preventDefault();let a=f.safeParse(e);if(a.success){s(void 0);var r=new URLSearchParams;Object.entries(e).forEach(e=>r.append(e[0],e[1])),s(void 0),m(!0),(async()=>{(await (0,S.Md)(E.Z.auth.signup,e)).ok?window.location.replace("/login"):s(["Something went wrong"])})(),m(!1)}else{let t=[];a.error.issues.forEach(e=>{t.push(e.message)}),s(a.error)}},label:"Crea tu cuenta",children:[(0,t.jsx)(c.Z,{label:"Username",id:"username",onChange:function(e){n({type:r.SET_USERNAME,name:e.target.value})},text:"El usuario no puede contener los siguientes caracteres"}),(0,t.jsx)(c.Z,{label:"E-mail",id:"email",onChange:function(e){n({type:r.SET_EMAIL,email:e.target.value})}}),(0,t.jsx)(c.Z,{label:"Contrase\xf1a",id:"password",type:"password",onChange:function(e){n({type:r.SET_PASSWORD,password:e.target.value})}}),(0,t.jsx)(c.Z,{label:"Confirma tu contrase\xf1a",id:"confirmPassword",type:"password",onChange:function(e){n({type:r.SET_PASSWORD_CONFIRMATION,passwordConfirmation:e.target.value})}}),(0,t.jsx)(l.Z,{enable:!i,color:"green",children:i?"Loading":"Crear"}),a&&(0,t.jsx)(d.Z,{messages:a})]})})};p.getLayout=i.Z,n.default=p}},function(e){e.O(0,[664,675,604,870,888,179],function(){return e(e.s=7805)}),_N_E=e.O()}]);