(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[573],{2042:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/contest/[contest_id]/concurso",function(){return l(8974)}])},1571:function(e,t,l){"use strict";l.d(t,{dI:function(){return m},Y:function(){return h}});var n,r,i=l(5893),s=l(9734),c=l(7294),a=l(1163),d=l(4869);function u(e){let{selectedTab:t}=e,l=(0,a.useRouter)(),n=l.asPath.split("/").slice(-1)[0],s=h();return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{className:"flex gap-7 items-center",children:Object.keys(r).map(e=>{let t=r[e];return(0,i.jsx)(d.Z,{className:t===n?"selected":"",type:"h3",weight:"bold",clickable:!0,color:t===n?"blue":"black",href:"/contest/".concat(null==s?void 0:s.id,"/").concat(t),children:e},t)})})})}(n=r||(r={})).Problemas="problems",n.Scoreboard="scoreboard",n.Concurso="concurso",n.Submits="submits",n.Aclaraciones="acla";let o=(0,c.createContext)({id:"",name:"",startTime:void 0,endTime:void 0,bases:[]});function h(){return(0,c.useContext)(o)}function x(e){let{children:t}=e,l=(0,a.useRouter)(),{contest_id:n}=l.query,r=e=>fetch(e).then(e=>e.json()),{data:c,error:d}=(0,s.ZP)("/api/contest/".concat(n),r);return d?(0,i.jsx)("div",{children:"Failed to load"}):c?(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(o.Provider,{value:c,children:t})}):(0,i.jsx)("div",{children:"Loading..."})}function m(e){return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{className:"flex flex-col gap-6 layout",children:(0,i.jsxs)(x,{children:[" ",(0,i.jsx)(u,{}),e]})})})}},8974:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return h}});var n=l(5893),r=l(1163),i=l(4869),s=l(7294);function c(e){let{startTime:t,endTime:l}=e;(0,s.useRef)(null);let[r,c]=(0,s.useState)("0"),[a,d]=(0,s.useState)(!1);(0,s.useEffect)(()=>{u();let e=setInterval(u,1e3);return()=>clearInterval(e)},[t,l]);let u=()=>{let e=new Date;if(l){let n=new Date(l).getTime()-e.getTime();if(t){let r=(1-n/(new Date(l).getTime()-new Date(t).getTime()))*100;r<=100?c("".concat(r)):a||d(!0)}}};return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"flex flex-col w-full",children:a?(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"flex justify-center gap-2",children:[(0,n.jsx)(i.Z,{type:"h2",weight:"regular",children:" El concurso ha terminado"}),(0,n.jsx)(i.Z,{type:"h2",color:"blue",weight:"regular",clickable:!0,children:" ver scoreboard TODO"})]})}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"h-5 w-full relative bg-[#D9D9D9] rounded-full"}),(0,n.jsx)("div",{style:{width:r+"%"},className:"relative z-3 h-5 top-[-1.25rem] bg-[#4AAE4B] rounded-full"})]})})})}function a(e){let{name:t,startTime:l,endTime:r}=e;function s(e){return e?e.toString():""}return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"flex flex-col w-full items-center",children:[(0,n.jsx)(i.Z,{type:"h1",weight:"regular",children:t}),(0,n.jsxs)("div",{className:"flex justify-between w-full",children:[(0,n.jsxs)("div",{className:"flex gap-4",children:[(0,n.jsx)(i.Z,{type:"h2",weight:"light",children:"Inicio : "}),(0,n.jsx)(i.Z,{type:"h2",children:s(l)})]}),(0,n.jsxs)("div",{className:"flex gap-4",children:[(0,n.jsx)(i.Z,{type:"h2",weight:"light",children:"Final : "}),(0,n.jsx)(i.Z,{type:"h2",children:s(r)})]})]}),(0,n.jsx)(c,{startTime:l,endTime:r}),(0,n.jsxs)("div",{className:"flex justify-between w-full",children:[(0,n.jsxs)("div",{className:"flex gap-4",children:[(0,n.jsx)(i.Z,{type:"h2",weight:"light",children:"Tiempo transcurrido : "}),(0,n.jsxs)(i.Z,{type:"h2",children:[" ","TODO"]})]}),(0,n.jsxs)("div",{className:"flex gap-4",children:[(0,n.jsx)(i.Z,{type:"h2",weight:"light",children:"Tiempo restante : "}),(0,n.jsx)(i.Z,{type:"h2",children:"TODO"})]})]})]})})}function d(e){let{title:t="Prueba",content:l=""}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:" bg-[var(--primary-bg-color)] rounded-[var(--border-radius)] ",children:[(0,n.jsx)("div",{className:" text-center bg-[var(--secondary-bg-color)] rounded-t-[var(--border-radius)] ",children:(0,n.jsx)(i.Z,{type:"h2",weight:"black",children:t})}),(0,n.jsx)("div",{className:" p-[var(--primary-padding)] ",children:l})]},t)})}var u=l(1571);let o=()=>{var e,t;let l=(0,r.useRouter)(),{contest_id:i}=l.query,s=(0,u.Y)();return"unauthenticated"===status?(0,n.jsx)("div",{children:"logeate"}):"loading"===status?(0,n.jsx)("div",{children:"Loading"}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"flex flex-col bg-[#E7EBEF] p-[20px] rounded-[10px] gap-[5px]",children:(0,n.jsx)(a,{name:null!==(t=null==s?void 0:s.name)&&void 0!==t?t:"",startTime:null==s?void 0:s.startTime,endTime:null==s?void 0:s.endTime})}),null==s?void 0:null===(e=s.bases)||void 0===e?void 0:e.map(e=>{let{title:t,content:l}=e;return(0,n.jsx)(d,{title:t,content:l},t)})]})};o.getLayout=u.dI;var h=o}},function(e){e.O(0,[734,774,888,179],function(){return e(e.s=2042)}),_N_E=e.O()}]);