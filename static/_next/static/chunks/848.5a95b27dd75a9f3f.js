"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[848],{2848:function(e,r,t){t.r(r);var i=t(5893),n=t(8241),s=t(7294),l=t(777),d=t(8029),o=t(407),a=t(8546),c=t(7487),u=t(3431),h=t(3361),m=t(1689),g=t(9021);let x=e=>{let{problem_id:r}=e,[t,d]=(0,s.useState)(!1),[o,c]=(0,s.useState)(""),{isPending:u,isError:m,data:g,error:x}=(0,l.a)({queryKey:["fetchSubmissions",r],queryFn:()=>(0,n.Tq)(r),retry:0,retryOnMount:!0,refetchOnMount:"always"});return u?(0,i.jsx)("div",{children:"Loading..."}):m?(0,i.jsx)("div",{children:"Upss something went wrong..."}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.Z,{columnDefinitions:[{id:"submission_id",header:"Submission ID",cell:e=>(0,i.jsx)(h.Z,{onClick:()=>{console.log("clicked"),d(!0),c(e.submission_id)},children:e.submission_id}),isRowHeader:!0},{id:"status",header:"Status",cell:e=>j(e.status),isRowHeader:!0},{id:"language",header:"Language",cell:e=>e.language,isRowHeader:!0},{id:"submitted_at",header:"Submitted at",cell:e=>(0,i.jsxs)(i.Fragment,{children:[new Date(Number(e.submitted_at)).toLocaleString(),(0,i.jsxs)("sup",{children:["UTC",-(new Date().getTimezoneOffset()/60)]})]}),isRowHeader:!0}],items:g}),(0,i.jsx)(p,{id:o,problemId:r.toString(),isVisible:t,setVisible:d})]})},p=e=>{let{id:r,problemId:t,isVisible:l,setVisible:a}=e,{data:c,mutate:h,reset:x,error:p,status:j}=(0,d.D)({mutationKey:["fetchSubmission",t,r],mutationFn:async()=>(0,n.cl)(t,r)});return(0,s.useEffect)(()=>{l&&(console.log("mutating"),h())},[l]),console.log({error:p,id:r,problemId:t,isVisible:l,setVisible:a,data:c}),(0,i.jsx)("div",{style:{width:"100%"},children:(0,i.jsx)(o.Z,{onDismiss:()=>{a(!1),x()},visible:l,footer:(0,i.jsx)(u.Z,{float:"right"}),header:"Modal title",children:function(e,r){var t,n,s,l;let d=new TextDecoder,o=(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(m.Z,{header:(0,i.jsx)(g.Z,{variant:"h3",children:"Compilation output"}),disableContentPaddings:!0,children:(0,i.jsxs)("pre",{style:{overflow:"scroll"},children:[" ",d.decode(new Uint8Array(null!==(l=null==e?void 0:null===(t=e.output)||void 0===t?void 0:null===(n=t.prepare_output)||void 0===n?void 0:n.stderr)&&void 0!==l?l:""))]})})}),a=(0,i.jsxs)(i.Fragment,{children:[" ",null==e?void 0:null===(s=e.output)||void 0===s?void 0:s.test_cases_results.map((e,r)=>{var t,n;return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(m.Z,{header:(0,i.jsx)(g.Z,{variant:"h3",children:"Test case ".concat(r+1)}),disableContentPaddings:!0,variant:"stacked",children:[(0,i.jsxs)("pre",{style:{overflow:"scroll"},children:[" ",d.decode(new Uint8Array(null===(t=e.output)||void 0===t?void 0:t.stdout))]}),(0,i.jsxs)("pre",{style:{overflow:"scroll"},children:[" ",d.decode(new Uint8Array(null===(n=e.output)||void 0===n?void 0:n.stderr))]})]})})})]});return(0,i.jsxs)(i.Fragment,{children:[o,a]})}(c,0)})})},j=e=>{switch(e){case"accepted":return(0,i.jsx)(c.Z,{type:"success",children:"Accepted"});case"runtime_error":return(0,i.jsx)(c.Z,{type:"error",children:"Runtime Error"});case"wrong_answer":return(0,i.jsx)(c.Z,{type:"error",children:"Wrong Answer"});case"time_limit_exceeded":return(0,i.jsx)(c.Z,{type:"warning",children:"Time Limit Exceeded"});case"compilation_error":return(0,i.jsx)(c.Z,{type:"warning",children:"Compilation Error"});default:return(0,i.jsx)(c.Z,{type:"pending",children:"Pending"})}};r.default=x}}]);